{
  "hash": "5a549e0097a4f4e561e926bbf727ac04",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take Home Exercise 3\"\nauthor: \"Rydia\"\ndate: \"May 13, 2024\"\ndate-modified: \"last-modified\"\nexecute:\n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n# VAST 2024 Mini Challenge 2\n\n## Mini-Challenge 2: Creating Signatures for Geo-Temporal Patterns\n\nMini-challenge 2 focuses on analyzing ship movements and shipping records to understand illegal fishing practices. FishEye analysts need help creating visualizations to show patterns of ship movements and identify suspicious behaviors. They also want to understand how the commercial fishing community changed after a company was caught fishing illegally.\n\nThe details of the mini challenge can be found [here](https://vast-challenge.github.io/2024/MC2.html).\n\n## Tasks and Questions\n\nFishEye analysts need your help to perform geographic and temporal analysis of the CatchNet data so they can prevent illegal fishing from happening again. Your task is to develop new visual analytics tools and workflows that can be used to discover and understand signatures of different types of behavior. Can you use your tool to visualize a signature of SouthSeafood Express Corp’s illegal behavior? FishEye needs your help to develop a workflow to find other instances of illegal behavior.\n\n1.  FishEye analysts have long wanted to better understand the flow of commercially caught fish through Oceanus’s many ports. But as they were loading data into CatchNet, they discovered they had purchased the wrong port records. They wanted to get the ship off-load records, but they instead got the port-exit records (essentially trucks/trains leaving the port area). Port exit records do not include which vessel that delivered the products. Given this limitation, develop a visualization system to associate vessels with their probable cargos. Which vessels deliver which products and when? What are the seasonal trends and anomalies in the port exit records?\n\n2.  Develop visualizations that illustrate the inappropriate behavior of SouthSeafood Express Corp vessels. How do their movement and catch contents compare to other fishing vessels? When and where did SouthSeafood Express Corp vessels perform their illegal fishing? How many different types of suspicious behaviors are observed? Use visual evidence to justify your conclusions.\n\n3.  To support further Fisheye investigations, develop visual analytics workflows that allow you to discover other vessels engaging in behaviors similar to SouthSeafood Express Corp’s illegal activities? Provide visual evidence of the similarities.\n\n4.  How did fishing activity change after SouthSeafood Express Corp was caught? What new behaviors in the Oceanus commercial fishing community are most suspicious and why?\n\n## 1.0 Data Preparation\n\n## 1.1 Loading R Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, jsonlite, DT, lubridate,\n               igraph, tidygraph, ggraph, \n               visNetwork, sf)\n```\n:::\n\n\n## 1.2 Loading the Data\n\nLoading the .json data using `jsonlite` package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmc2 <- fromJSON(\"data/MC2/mc2.json\")\n```\n:::\n\n\nmc2 is a directed multigraph, consists of nodes dataframe and links dataframe.\n\n\n::: {.cell}\n\n```{.r .cell-code}\noceanus_map <- read_sf(\"data/MC2/Oceanus Information/Oceanus Geography.geojson\")\n```\n:::\n\n\nLoading the oceanus map:\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(oceanus_map) +\n  geom_sf(color = \"black\",\n          ) +\n  theme_void() +\n  geom_sf_text(aes(label = Name), size = 2,\n               vjust = 1.5)\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex03_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmc2\n```\n:::\n\n\n## 1.3 Extracting the tibbles for nodes and links\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmc2_nodes_raw <- as_tibble(mc2$nodes)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmc2_links_raw <- as_tibble(mc2$links)\n```\n:::\n\n\n## 1.4 Checking for missing values in data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolSums(is.na(mc2_nodes_raw))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                type      _last_edited_by          _date_added \n                   0                    0                    0 \n   _last_edited_date          _raw_source           _algorithm \n                   0                    0                    0 \n                name                   id                 Name \n                5627                    0                 5317 \n         Description           Activities                 kind \n                5623                    0                 5613 \n            qty_tons                 date         flag_country \n                 330                  330                 5341 \n             company              tonnage       length_overall \n                5458                 5359                 5354 \n               style fish_species_present \n                5635                    0 \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolSums(is.na(mc2_links_raw))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n             type              time             dwell   _last_edited_by \n                0             13101             13101                 0 \n      _date_added _last_edited_date       _raw_source        _algorithm \n                0                 0                 0                 0 \n           source            target               key              date \n                0                 0                 0            258542 \n      data_author          aphorism  holiday_greeting            wisdom \n           269156            269669            270639            269719 \nsaying of the sea \n           269750 \n```\n\n\n:::\n:::\n\n\n## 1.5 Parsing the time with lubridate\n\nAs the `_date_added` and `_last_edited_date` contains a mixture of format, we first extract the date in \"yyyy-mm-dd\" format using `substr`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmc2_nodes_raw <- mc2_nodes_raw |> \n  mutate(`_date_added` = substr(`_date_added`,1,10)) |> \n  mutate(`_date_added` = ymd(`_date_added`)) |> \n  mutate(`_last_edited_date` = substr(`_last_edited_date`,1,10)) |> \n  mutate(`_last_edited_date` = ymd(`_last_edited_date`)) |> \n  mutate(date = ymd(date))\nmc2_nodes_raw\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5,637 × 20\n   type        `_last_edited_by` `_date_added` `_last_edited_date` `_raw_source`\n   <chr>       <chr>             <date>        <date>              <chr>        \n 1 Entity.Com… Clepper Jessen    2033-09-04    2035-01-25          \"\"           \n 2 Entity.Com… Clepper Jessen    2034-01-21    2035-01-04          \"\"           \n 3 Entity.Com… Haenyeo Hyun-Ki   2033-06-22    2035-01-14          \"\"           \n 4 Entity.Com… Haenyeo Hyun-Ki   2033-11-24    2035-01-14          \"\"           \n 5 Entity.Com… Haenyeo Hyun-Ki   2033-09-13    2034-11-30          \"\"           \n 6 Entity.Com… Clepper Jessen    2033-08-20    2035-01-15          \"\"           \n 7 Entity.Com… Haenyeo Hyun-Ki   2033-09-19    2034-12-02          \"\"           \n 8 Entity.Com… Clepper Jessen    2033-08-30    2034-12-28          \"\"           \n 9 Entity.Com… Haenyeo Hyun-Ki   2033-12-15    2034-12-01          \"\"           \n10 Entity.Com… Haenyeo Hyun-Ki   2033-08-20    2034-12-22          \"\"           \n# ℹ 5,627 more rows\n# ℹ 15 more variables: `_algorithm` <chr>, name <chr>, id <chr>, Name <chr>,\n#   Description <chr>, Activities <list>, kind <chr>, qty_tons <dbl>,\n#   date <date>, flag_country <chr>, company <chr>, tonnage <int>,\n#   length_overall <int>, style <chr>, fish_species_present <list>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmc2_links_raw <- mc2_links_raw |>\n  mutate(`_date_added` = substr(`_date_added`,1,10)) |> \n  mutate(`_date_added` = ymd(`_date_added`)) |> \n  mutate(`_last_edited_date`= substr(`_last_edited_date`,1,10)) |> \n  mutate(`_last_edited_date` = ymd(`_last_edited_date`)) \n\nmc2_links_raw <- mc2_links_raw |> \n    mutate(time = ymd_hms(time))\nmc2_links_raw\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 271,643 × 17\n   type               time                 dwell `_last_edited_by` `_date_added`\n   <chr>              <dttm>               <dbl> <chr>             <date>       \n 1 Event.TransportEv… 2035-09-16 04:06:48 1.15e5 Olokun Daramola   2035-09-16   \n 2 Event.TransportEv… 2035-09-20 05:21:33 4.13e5 Melinda Manning   2035-09-22   \n 3 Event.TransportEv… 2035-09-28 04:31:47 2.86e5 Olokun Daramola   2035-09-29   \n 4 Event.TransportEv… 2035-10-04 04:59:36 3.28e5 Jack Inch         2035-10-06   \n 5 Event.TransportEv… 2035-10-15 04:26:14 2.43e5 Jack Inch         2035-10-16   \n 6 Event.TransportEv… 2035-10-21 05:38:48 1.10e5 Melinda Manning   2035-10-22   \n 7 Event.TransportEv… 2035-11-01 04:04:53 1.15e5 Jack Inch         2035-11-02   \n 8 Event.TransportEv… 2035-11-05 04:56:02 2.41e5 Harvey Janus      2035-11-07   \n 9 Event.TransportEv… 2035-11-11 05:04:19 1.12e5 Harvey Janus      2035-11-12   \n10 Event.TransportEv… 2035-06-05 03:46:22 2.02e5 Junior Shurdlu    2035-06-07   \n# ℹ 271,633 more rows\n# ℹ 12 more variables: `_last_edited_date` <date>, `_raw_source` <chr>,\n#   `_algorithm` <chr>, source <chr>, target <chr>, key <int>, date <chr>,\n#   data_author <chr>, aphorism <chr>, holiday_greeting <chr>, wisdom <chr>,\n#   `saying of the sea` <chr>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nunique_nodes_type <- mc2_nodes_raw |>  distinct(type)\nunique_nodes_type\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 × 1\n   type                          \n   <chr>                         \n 1 Entity.Commodity.Fish         \n 2 Entity.Location.City          \n 3 Entity.Document.DeliveryReport\n 4 Entity.Vessel.FishingVessel   \n 5 Entity.Vessel.Other           \n 6 Entity.Vessel.Ferry.Passenger \n 7 Entity.Vessel.CargoVessel     \n 8 Entity.Vessel.Ferry.Cargo     \n 9 Entity.Vessel.Research        \n10 Entity.Vessel.Tour            \n11 Entity.Location.Point         \n12 Entity.Location.Region        \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nunique_links_type <- mc2_links_raw |>  distinct(type)\nunique_links_type\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 1\n  type                                \n  <chr>                               \n1 Event.TransportEvent.TransponderPing\n2 Event.Transaction                   \n3 Event.HarborReport                  \n```\n\n\n:::\n:::\n\n\n## 1.5 Extracting the required columns for each graph\n\nIn this section, we will extract the required column for the following graphs:\n\n1.  Vessel Movements\n\n2.  Harbor Reports\n\n3.  Harbor Import Records\n\n### 1.5.1 Vessel Movements\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvessel_mvmt_vessel_nodes <- mc2_nodes_raw |> \n  filter(str_detect(type,c(\"Vessel\"))) \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvessel_mvmt_vessel_nodes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 296 × 20\n   type        `_last_edited_by` `_date_added` `_last_edited_date` `_raw_source`\n   <chr>       <chr>             <date>        <date>              <chr>        \n 1 Entity.Ves… Olokun Daramola   2034-05-18    2034-09-20          Oceanus Vess…\n 2 Entity.Ves… Harvey Janus      2034-01-03    2034-05-19          Oceanus Vess…\n 3 Entity.Ves… juniorshurdlu794  2034-07-30    2034-08-16          Oceanus Vess…\n 4 Entity.Ves… Harvey Janus      2034-12-22    2035-03-29          Oceanus Vess…\n 5 Entity.Ves… Harvey Janus      2034-03-11    2034-07-23          Oceanus Vess…\n 6 Entity.Ves… Junior Shurdlu    2034-08-15    2034-11-01          Oceanus Vess…\n 7 Entity.Ves… Junior Shurdlu    2033-10-14    2034-02-28          Oceanus Vess…\n 8 Entity.Ves… Harvey Janus      2033-06-14    2033-09-10          Oceanus Vess…\n 9 Entity.Ves… Harvey Janus      2033-11-15    2034-01-16          Oceanus Vess…\n10 Entity.Ves… juniorshurdlu794  2034-04-17    2034-05-19          Oceanus Vess…\n# ℹ 286 more rows\n# ℹ 15 more variables: `_algorithm` <chr>, name <chr>, id <chr>, Name <chr>,\n#   Description <chr>, Activities <list>, kind <chr>, qty_tons <dbl>,\n#   date <date>, flag_country <chr>, company <chr>, tonnage <int>,\n#   length_overall <int>, style <chr>, fish_species_present <list>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvessel_mvmt_location_nodes <- mc2_nodes_raw |> \n  filter(str_detect(type,c(\"Location\"))) \nvessel_mvmt_location_nodes \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 24 × 20\n   type        `_last_edited_by` `_date_added` `_last_edited_date` `_raw_source`\n   <chr>       <chr>             <date>        <date>              <chr>        \n 1 Entity.Loc… Greta Grass-Hill  2034-12-14    2035-11-05          Oceanus: Geo…\n 2 Entity.Loc… Greta Grass-Hill  2034-12-28    2035-03-08          Oceanus: Geo…\n 3 Entity.Loc… Greta Grass-Hill  2034-10-02    2034-11-14          Oceanus: Geo…\n 4 Entity.Loc… Kristin Baker     2034-11-13    2035-09-12          Oceanus: Geo…\n 5 Entity.Loc… Kristin Baker     2034-12-16    2035-09-11          Oceanus: Geo…\n 6 Entity.Loc… Greta Grass-Hill  2034-11-13    2035-10-19          Oceanus: Geo…\n 7 Entity.Loc… Kristin Baker     2034-10-13    2035-04-14          Oceanus: Geo…\n 8 Entity.Loc… Urashima Tarō     2034-12-20    2035-05-23          Oceanus: Geo…\n 9 Entity.Loc… Kristin Baker     2034-12-21    2035-07-20          Oceanus: Geo…\n10 Entity.Loc… Greta Grass-Hill  2034-12-13    2035-11-04          Oceanus: Geo…\n# ℹ 14 more rows\n# ℹ 15 more variables: `_algorithm` <chr>, name <chr>, id <chr>, Name <chr>,\n#   Description <chr>, Activities <list>, kind <chr>, qty_tons <dbl>,\n#   date <date>, flag_country <chr>, company <chr>, tonnage <int>,\n#   length_overall <int>, style <chr>, fish_species_present <list>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvessel_mvmt_links <- mc2_links_raw |> \n  filter(type == \"Event.TransportEvent.TransponderPing\") \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvessel_mvmt_links\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 258,542 × 17\n   type               time                 dwell `_last_edited_by` `_date_added`\n   <chr>              <dttm>               <dbl> <chr>             <date>       \n 1 Event.TransportEv… 2035-09-16 04:06:48 1.15e5 Olokun Daramola   2035-09-16   \n 2 Event.TransportEv… 2035-09-20 05:21:33 4.13e5 Melinda Manning   2035-09-22   \n 3 Event.TransportEv… 2035-09-28 04:31:47 2.86e5 Olokun Daramola   2035-09-29   \n 4 Event.TransportEv… 2035-10-04 04:59:36 3.28e5 Jack Inch         2035-10-06   \n 5 Event.TransportEv… 2035-10-15 04:26:14 2.43e5 Jack Inch         2035-10-16   \n 6 Event.TransportEv… 2035-10-21 05:38:48 1.10e5 Melinda Manning   2035-10-22   \n 7 Event.TransportEv… 2035-11-01 04:04:53 1.15e5 Jack Inch         2035-11-02   \n 8 Event.TransportEv… 2035-11-05 04:56:02 2.41e5 Harvey Janus      2035-11-07   \n 9 Event.TransportEv… 2035-11-11 05:04:19 1.12e5 Harvey Janus      2035-11-12   \n10 Event.TransportEv… 2035-06-05 03:46:22 2.02e5 Junior Shurdlu    2035-06-07   \n# ℹ 258,532 more rows\n# ℹ 12 more variables: `_last_edited_date` <date>, `_raw_source` <chr>,\n#   `_algorithm` <chr>, source <chr>, target <chr>, key <int>, date <chr>,\n#   data_author <chr>, aphorism <chr>, holiday_greeting <chr>, wisdom <chr>,\n#   `saying of the sea` <chr>\n```\n\n\n:::\n:::\n\n\n### 1.5.2 Harbor Report\n\n\n::: {.cell}\n\n```{.r .cell-code}\nharbor_report_nodes <- mc2_nodes_raw |> \n  filter(str_detect(type,c(\"Vessel|Location\")))\nharbor_report_nodes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 320 × 20\n   type        `_last_edited_by` `_date_added` `_last_edited_date` `_raw_source`\n   <chr>       <chr>             <date>        <date>              <chr>        \n 1 Entity.Loc… Greta Grass-Hill  2034-12-14    2035-11-05          Oceanus: Geo…\n 2 Entity.Loc… Greta Grass-Hill  2034-12-28    2035-03-08          Oceanus: Geo…\n 3 Entity.Loc… Greta Grass-Hill  2034-10-02    2034-11-14          Oceanus: Geo…\n 4 Entity.Loc… Kristin Baker     2034-11-13    2035-09-12          Oceanus: Geo…\n 5 Entity.Loc… Kristin Baker     2034-12-16    2035-09-11          Oceanus: Geo…\n 6 Entity.Ves… Olokun Daramola   2034-05-18    2034-09-20          Oceanus Vess…\n 7 Entity.Ves… Harvey Janus      2034-01-03    2034-05-19          Oceanus Vess…\n 8 Entity.Ves… juniorshurdlu794  2034-07-30    2034-08-16          Oceanus Vess…\n 9 Entity.Ves… Harvey Janus      2034-12-22    2035-03-29          Oceanus Vess…\n10 Entity.Ves… Harvey Janus      2034-03-11    2034-07-23          Oceanus Vess…\n# ℹ 310 more rows\n# ℹ 15 more variables: `_algorithm` <chr>, name <chr>, id <chr>, Name <chr>,\n#   Description <chr>, Activities <list>, kind <chr>, qty_tons <dbl>,\n#   date <date>, flag_country <chr>, company <chr>, tonnage <int>,\n#   length_overall <int>, style <chr>, fish_species_present <list>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nharbor_report_links <- mc2_links_raw |> \n  filter(type == \"Event.HarborReport\")\nharbor_report_links\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2,487 × 17\n   type               time   dwell `_last_edited_by` `_date_added`\n   <chr>              <dttm> <dbl> <chr>             <date>       \n 1 Event.HarborReport NA        NA Junior Shurdlu    2035-09-21   \n 2 Event.HarborReport NA        NA Haenyeo Hyun-Ki   2035-08-20   \n 3 Event.HarborReport NA        NA Junior Shurdlu    2035-09-18   \n 4 Event.HarborReport NA        NA Haenyeo Hyun-Ki   2035-08-16   \n 5 Event.HarborReport NA        NA Haenyeo Hyun-Ki   2035-09-26   \n 6 Event.HarborReport NA        NA Junior Shurdlu    2035-04-11   \n 7 Event.HarborReport NA        NA Haenyeo Hyun-Ki   2035-04-14   \n 8 Event.HarborReport NA        NA Haenyeo Hyun-Ki   2035-04-16   \n 9 Event.HarborReport NA        NA Junior Shurdlu    2035-04-12   \n10 Event.HarborReport NA        NA Clepper Jessen    2035-04-11   \n# ℹ 2,477 more rows\n# ℹ 12 more variables: `_last_edited_date` <date>, `_raw_source` <chr>,\n#   `_algorithm` <chr>, source <chr>, target <chr>, key <int>, date <chr>,\n#   data_author <chr>, aphorism <chr>, holiday_greeting <chr>, wisdom <chr>,\n#   `saying of the sea` <chr>\n```\n\n\n:::\n:::\n\n\n### 1.5.3 Harbor Import Records\n\n\n::: {.cell}\n\n```{.r .cell-code}\nimport_location_nodes <- mc2_nodes_raw |> \n  filter(str_detect(type,c(\"Location\")))\nimport_location_nodes \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 24 × 20\n   type        `_last_edited_by` `_date_added` `_last_edited_date` `_raw_source`\n   <chr>       <chr>             <date>        <date>              <chr>        \n 1 Entity.Loc… Greta Grass-Hill  2034-12-14    2035-11-05          Oceanus: Geo…\n 2 Entity.Loc… Greta Grass-Hill  2034-12-28    2035-03-08          Oceanus: Geo…\n 3 Entity.Loc… Greta Grass-Hill  2034-10-02    2034-11-14          Oceanus: Geo…\n 4 Entity.Loc… Kristin Baker     2034-11-13    2035-09-12          Oceanus: Geo…\n 5 Entity.Loc… Kristin Baker     2034-12-16    2035-09-11          Oceanus: Geo…\n 6 Entity.Loc… Greta Grass-Hill  2034-11-13    2035-10-19          Oceanus: Geo…\n 7 Entity.Loc… Kristin Baker     2034-10-13    2035-04-14          Oceanus: Geo…\n 8 Entity.Loc… Urashima Tarō     2034-12-20    2035-05-23          Oceanus: Geo…\n 9 Entity.Loc… Kristin Baker     2034-12-21    2035-07-20          Oceanus: Geo…\n10 Entity.Loc… Greta Grass-Hill  2034-12-13    2035-11-04          Oceanus: Geo…\n# ℹ 14 more rows\n# ℹ 15 more variables: `_algorithm` <chr>, name <chr>, id <chr>, Name <chr>,\n#   Description <chr>, Activities <list>, kind <chr>, qty_tons <dbl>,\n#   date <date>, flag_country <chr>, company <chr>, tonnage <int>,\n#   length_overall <int>, style <chr>, fish_species_present <list>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nimport_commodity_nodes <- mc2_nodes_raw |> \n  filter(str_detect(type,c(\"Commodity\")))\nimport_commodity_nodes \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 20\n   type        `_last_edited_by` `_date_added` `_last_edited_date` `_raw_source`\n   <chr>       <chr>             <date>        <date>              <chr>        \n 1 Entity.Com… Clepper Jessen    2033-09-04    2035-01-25          \"\"           \n 2 Entity.Com… Clepper Jessen    2034-01-21    2035-01-04          \"\"           \n 3 Entity.Com… Haenyeo Hyun-Ki   2033-06-22    2035-01-14          \"\"           \n 4 Entity.Com… Haenyeo Hyun-Ki   2033-11-24    2035-01-14          \"\"           \n 5 Entity.Com… Haenyeo Hyun-Ki   2033-09-13    2034-11-30          \"\"           \n 6 Entity.Com… Clepper Jessen    2033-08-20    2035-01-15          \"\"           \n 7 Entity.Com… Haenyeo Hyun-Ki   2033-09-19    2034-12-02          \"\"           \n 8 Entity.Com… Clepper Jessen    2033-08-30    2034-12-28          \"\"           \n 9 Entity.Com… Haenyeo Hyun-Ki   2033-12-15    2034-12-01          \"\"           \n10 Entity.Com… Haenyeo Hyun-Ki   2033-08-20    2034-12-22          \"\"           \n# ℹ 15 more variables: `_algorithm` <chr>, name <chr>, id <chr>, Name <chr>,\n#   Description <chr>, Activities <list>, kind <chr>, qty_tons <dbl>,\n#   date <date>, flag_country <chr>, company <chr>, tonnage <int>,\n#   length_overall <int>, style <chr>, fish_species_present <list>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nimport_delivery_nodes <- mc2_nodes_raw |> \n  filter(str_detect(type,c(\"Document\")))\nimport_delivery_nodes \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5,307 × 20\n   type        `_last_edited_by` `_date_added` `_last_edited_date` `_raw_source`\n   <chr>       <chr>             <date>        <date>              <chr>        \n 1 Entity.Doc… Junior Shurdlu    2035-11-04    2035-11-06          Tuna Shelf/e…\n 2 Entity.Doc… Harvey Janus      2035-08-17    2035-08-19          Tuna Shelf/e…\n 3 Entity.Doc… Junior Shurdlu    2035-08-21    2035-08-23          Tuna Shelf/e…\n 4 Entity.Doc… Melinda Manning   2035-11-07    2035-11-09          Tuna Shelf/e…\n 5 Entity.Doc… Harvey Janus      2035-08-24    2035-08-25          Tuna Shelf/e…\n 6 Entity.Doc… Harvey Janus      2035-08-28    2035-08-28          Tuna Shelf/e…\n 7 Entity.Doc… Jack Inch         2035-09-01    2035-09-01          Tuna Shelf/e…\n 8 Entity.Doc… Junior Shurdlu    2035-09-05    2035-09-06          Tuna Shelf/e…\n 9 Entity.Doc… Harvey Janus      2035-09-07    2035-09-07          Tuna Shelf/e…\n10 Entity.Doc… Jack Inch         2035-09-12    2035-09-13          Tuna Shelf/e…\n# ℹ 5,297 more rows\n# ℹ 15 more variables: `_algorithm` <chr>, name <chr>, id <chr>, Name <chr>,\n#   Description <chr>, Activities <list>, kind <chr>, qty_tons <dbl>,\n#   date <date>, flag_country <chr>, company <chr>, tonnage <int>,\n#   length_overall <int>, style <chr>, fish_species_present <list>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nimport_links <- mc2_links_raw |> \n  filter(type == \"Event.Transaction\")\nimport_links\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10,614 × 17\n   type              time   dwell `_last_edited_by` `_date_added`\n   <chr>             <dttm> <dbl> <chr>             <date>       \n 1 Event.Transaction NA        NA Junior Shurdlu    2035-11-04   \n 2 Event.Transaction NA        NA Junior Shurdlu    2035-11-04   \n 3 Event.Transaction NA        NA Melinda Manning   2035-08-17   \n 4 Event.Transaction NA        NA Melinda Manning   2035-08-17   \n 5 Event.Transaction NA        NA Olokun Daramola   2035-08-21   \n 6 Event.Transaction NA        NA Olokun Daramola   2035-08-21   \n 7 Event.Transaction NA        NA Junior Shurdlu    2035-11-07   \n 8 Event.Transaction NA        NA Junior Shurdlu    2035-11-07   \n 9 Event.Transaction NA        NA Jack Inch         2035-08-24   \n10 Event.Transaction NA        NA Jack Inch         2035-08-24   \n# ℹ 10,604 more rows\n# ℹ 12 more variables: `_last_edited_date` <date>, `_raw_source` <chr>,\n#   `_algorithm` <chr>, source <chr>, target <chr>, key <int>, date <chr>,\n#   data_author <chr>, aphorism <chr>, holiday_greeting <chr>, wisdom <chr>,\n#   `saying of the sea` <chr>\n```\n\n\n:::\n:::\n\n\n## 2.0 Task 1\n\n## 2.1 Flow of fishing vessels\n\nFishEye analysts have long wanted to better understand the flow of commercially caught fish through Oceanus’s many ports.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunique_nodes_type <- vessel_mvmt_vessel_nodes |>  distinct(type)\nunique_nodes_type\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 1\n  type                         \n  <chr>                        \n1 Entity.Vessel.FishingVessel  \n2 Entity.Vessel.Other          \n3 Entity.Vessel.Ferry.Passenger\n4 Entity.Vessel.CargoVessel    \n5 Entity.Vessel.Ferry.Cargo    \n6 Entity.Vessel.Research       \n7 Entity.Vessel.Tour           \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfishing_vessels <- vessel_mvmt_vessel_nodes |> \n  filter(type == \"Entity.Vessel.FishingVessel\") |> \n  distinct(id)\nfishing_vessels\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 178 × 1\n   id                     \n   <chr>                  \n 1 wavewranglerc2d        \n 2 yellowfintunataker08b  \n 3 arcticgraylingangler094\n 4 anchovyassaulterb1c    \n 5 oceanreaper44a         \n 6 herringharpooner843    \n 7 halibuthunterd84       \n 8 brooktroutbuccaneerc0b \n 9 groupergrabber60d      \n10 welscatfishwrangler6ae \n# ℹ 168 more rows\n```\n\n\n:::\n:::\n\n\nThere is a total of 178 Fishing vessels in Oceanus.\n\n## 2.2 Fishing ground locations\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfishing_ground <- import_location_nodes |> \n  filter(kind == \"Fishing Ground\") \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nnon_fishing_ground <- import_location_nodes |> \n  filter(kind == \"Ecological Preserve\") \n```\n:::\n\n\nThere are three fishing grounds:\n\n1\\. Cod Table\n\n2\\. Wrasse Beds\n\n3\\. Tuna Shelf\n\nFishing outside these fishing grounds are considered illegal fishing.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncargo_vessels <- vessel_mvmt_vessel_nodes |> \n  filter(type == \"Entity.Vessel.CargoVessel\") |> \n  arrange(desc(tonnage))\ncargo_vessels\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 100 × 20\n   type        `_last_edited_by` `_date_added` `_last_edited_date` `_raw_source`\n   <chr>       <chr>             <date>        <date>              <chr>        \n 1 Entity.Ves… Melinda Manning   2035-02-01    2035-02-17          Oceanus Vess…\n 2 Entity.Ves… Harvey Janus      2034-12-02    2034-12-22          Oceanus Vess…\n 3 Entity.Ves… Olokun Daramola   2035-02-13    2035-03-02          Oceanus Vess…\n 4 Entity.Ves… Harvey Janus      2034-12-03    2034-12-15          Oceanus Vess…\n 5 Entity.Ves… Harvey Janus      2035-02-20    2035-03-03          Oceanus Vess…\n 6 Entity.Ves… Harvey Janus      2035-01-06    2035-01-21          Oceanus Vess…\n 7 Entity.Ves… Jack Inch         2035-02-01    2035-02-20          Oceanus Vess…\n 8 Entity.Ves… Jack Inch         2034-11-08    2034-11-21          Oceanus Vess…\n 9 Entity.Ves… Jack Inch         2034-12-12    2034-12-28          Oceanus Vess…\n10 Entity.Ves… Jack Inch         2034-12-31    2035-01-12          Oceanus Vess…\n# ℹ 90 more rows\n# ℹ 15 more variables: `_algorithm` <chr>, name <chr>, id <chr>, Name <chr>,\n#   Description <chr>, Activities <list>, kind <chr>, qty_tons <dbl>,\n#   date <date>, flag_country <chr>, company <chr>, tonnage <int>,\n#   length_overall <int>, style <chr>, fish_species_present <list>\n```\n\n\n:::\n:::\n\n\nThere are 100 cargo vessels, with tonnage ranging from 2,100 to 76,300.\n\n## 2.3 Which fishing vessels frequent the fishing sites\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvessel_mvmt_links |> \n  filter(source %in% c(\"Cod Table\",\"Wrasse Beds\",\"Tuna Shelf\")) |> \n  group_by(target, source) |> \n  summarise(n = n()) |> \n  arrange(desc(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 557 × 3\n# Groups:   target [287]\n   target                    source          n\n   <chr>                     <chr>       <int>\n 1 saltyskippera9e           Wrasse Beds  1460\n 2 rainbowtroutraider4d0     Wrasse Beds  1413\n 3 europeanperchpirated9b    Tuna Shelf   1265\n 4 pinksalmonpirate2a3       Wrasse Beds  1256\n 5 tenchtaker595             Wrasse Beds  1183\n 6 pollockpirate212          Wrasse Beds  1147\n 7 fishtracker03e            Wrasse Beds  1115\n 8 yellowfintunataker08b     Tuna Shelf   1079\n 9 halibuthero9b9            Tuna Shelf   1059\n10 tigermuskellungemaster012 Wrasse Beds  1048\n# ℹ 547 more rows\n```\n\n\n:::\n:::\n\n\n## 2.4 Which fishing vessels frequent the non-fishing sites\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvessel_mvmt_links |> \n  filter(source %in% c(\"Ghoti Preserve\",\"Nemo Reef\", \"Don Limpet Preserve\")) |> \n  group_by(target, source) |> \n  summarise(n = n()) |> \n  arrange(desc(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 248 × 3\n# Groups:   target [219]\n   target                 source                  n\n   <chr>                  <chr>               <int>\n 1 europeanperchpirated9b Nemo Reef            1040\n 2 manatee17ea            Don Limpet Preserve   884\n 3 yellowfintunataker08b  Nemo Reef             863\n 4 anchovyassaulterb1c    Nemo Reef             843\n 5 halibuthero9b9         Nemo Reef             833\n 6 bluefishbandit8ec      Nemo Reef             782\n 7 herringharpooner843    Nemo Reef             763\n 8 pacificcodcapturer81c  Nemo Reef             719\n 9 welscatfishwrangler6ae Nemo Reef             613\n10 pompanoplunderere5d    Nemo Reef             596\n# ℹ 238 more rows\n```\n\n\n:::\n:::\n",
    "supporting": [
      "Take-home_Ex03_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}